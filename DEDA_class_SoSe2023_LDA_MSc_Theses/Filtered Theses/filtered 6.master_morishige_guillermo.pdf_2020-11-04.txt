automate cryptocurrency portfolio portfolio optimization empirical study master thesis submit prof dr wolfgang karl ardle universit zu school business economics institute statistic econometrics guillermo masayuki morishige takane partial ful llment requirement degree master economics management science september would like thank supervisor professor dr wolfgang ardle universit zu professor dr brenda opez cabrera universit zu thank youfortheadvice dr ruiren humboldtuniversit atzuberlin research training group high dimensional nonstationary time series student challenge interest talk motivate learn thesis revisits portfolio optimization theory mathematical formulation problem derivation risk minimization formulation assumption limitation well improvement extension exist framework aim thesis also simulate implement python markowitz global minimum variance maxi mum sharpe hierarchical risk parity three simple portfolio equally weight inverse volatility inverse variance novel asset class cryptocurrencies cryptocur rency index crix use benchmark portfolio optimization compute use day daily historical data portfolio rebalancing take place every day day portfolio long short fully invest leverage improvement covariance matrix apply mean random matrix theory eigenvalue clip keywords portfolio optimization markowitz modern portfolio theory hierarchical risk parity random matrix theory eigenvalue clip cryptocurrencies crix doi http doi org ii content list abbreviation iv list list vi introduction theory markowitz framework simple approach portfolio hierarchical risk parity random matrix theory eigenvalue clip method data result conclusion crix methodology descriptive statistic portfolio risk measure iii list abbreviation ada cardano atom cosmos bch bitcoin cash bnb binance coin bsv bitcoin sv btc bitcoin cro crypto com chain eos eos eth ethereum leo leo token link chainlink ltc litecoin neo neo trx tron usdc usd coin usdt tether xlm stellar xmr monero xrp ripple xtz tezos cc cryptocurrency crix cryptocurrency index rmt random matrix theory etf exchange trade fund gmv global minimum variance hrp hierarchical risk parity mvo mean variance optimization capm capital asset pricing model cml capital market line foc first order condition var value risk cvar conditional value risk iv list cient frontier rst time window analyze september january gmv maximum sharpe observe dendogram rst time window analyze september january denotes hierarchical structure asset show di erent color two cluster found cc heatmap left right eigenvalue clip rmt method rst time window analyze september january pro loss top perform cc initial investment period january june pro loss bottom perform cc initial investment period january june pro mark initial investment period january june rmt stand random matrix theory implies eigenvalue clip covariance matrix mv denotes minimum variance maximum sharpe respectively list descriptive statistic logarithmic return period september june see formula detail descriptive statistic risk measure logarithmic return portfolio number indicates portfolio consider monthly rebalancing normal distribution con dence interval assume see formula vi introduction portfolio optimization area interest gain attention last decade financial service product grown number sophistication nowadays trade execute computer retail investor access robo advisor even smartphones computer online broker like interactive broker worldwide scalable capital germany technology catalyze emergence new asset class like exchange trade fund etf cryptocurrencies accord etfgi com asset global etf grow merely billion dollar trillion dollar innovation blockchain asset cryptocurrencies developed september rd total capitalization cryptocurrencies billion dollar accord coingecko harry markowitz get powerful insight selection optimal portfolio investor give risk aversion paper portfolio selection publish journal finance consider investor maximize expect return perceive vari ance undesirable propose use variance risk measure asset describes feasible cient surface set cient portfolio gotten di erent riskpro lesalongthee cientfrontier alongthise cientfrontierwecan ndportfoliosthat maximize return additional unit risk maximum sharpe ratio portfolio global minimum variance gmv portfolio idea behind risk reward trade diversi cation exempli ed classical problem choose invest two business one fare well sunny day rainy day markowitz approach concept diversi cation variance asset covariance portfolio accelerationinthe eldtookplace treynor sharpe lintner tobin arrive capm introduction risk free asset consideration introduce like pogue analyze ect objective function subject transaction cost fee cost impact literature ourished domowitz beard sley analyze liquidity cost dynamic supply demand co movement bikker focus market timing market disruption big pension fund barber odean found many individual investor could improve tax performance markowitz framework miss capture behaviour data model since variance mean consider mandelbrot point fact empirical price change peaked consider gaussian fama argue empirical evidence strongly support random walk model davy take account covariance co skewness co kurtosis polynomial goal program model aim usual maximize return minimize variance additional objective maximize skewness since keen positive return minimize kurtosis tail risk undesired great importance good data work however estimate risk return practice noisy market condition change time expect turn display signi cant time variation stationary mvo sensitive input small change expect return strongly ect weight jobson korkie argues mean variance reliable predictor naive portfolio like equally weight outperform optimization litterman winkelmann proposes use weight data idea recent information important long past observation ledoit wolf proposes transformation covariance matrix call shrinkage since matrix tend contain lot positive error aim pull extreme value downwards central value myopic view market consider portfolio optimize one point fail get whole picture challenge ecting construction optimal portfolio premise market non stationary dynamic uncertainty stochastic component new class model emerge first intuitive nite market must implement feedback grow forever hard task nd absolute feedback governs market easy analyze data feedback regulate gain loss one asset respect another dynamic ect momentum permanence uncertainty market characterize period low high volatility include feedback momentum many model propose widely use dynamic linear model autoregressive move average arma vector autoregressive move aver age varma consider realization linear function previous value random disturbance engle propose model volatility model autoregressive process regressive process white noise scale volatil ity give place autoregressive conditional heteroskedasticity arch variance allow dynamic extend generalize bollerslev next section get derivation optimal portfolio within markowitz cient frontier another optimization algorithm discuss hierar chical risk parity also introduction random matrix theory application clean covariance matrix noise nalizing comment spe ci methodology follow thesis afterwards data cryptocurrencies present well performance model performance di erent strategy compare nd optimization good realize low sample volatility well performance naive portfolio equally weight inverse volatility inverse variance theory markowitz framework markowitz classical portfolio optimization application asset allocation decide split investment asset class portfolio optimization splitting investment security empirical study asset class consider cryptocurrencies however speci goal portfolio optimization nd vector optimal weight first consider vector consist asset let expect return individual security risk represent respectively mean standard deviation asset able nd target cient portfolio along cient frontier worthy formalize problem express mathematical term input variable interest express follow matricial form correlation security therefore thus portfolio expect return variance follow nw xx jw iw weight vector constrain fully invest mean addition weight security add one calculation variance always nonnegative variance portfolio give assume positive de nite redundancy asset give assumption variance strictly convex function variable portfolio lead unique solution problem express di erent way risk minimization formulation solves portfolio least exposure variance satis least target return chosen investor minimize subject ax cx alternatively theproblemwouldbeto nd portfolio high expect return give maximum level variance willing take maximize subject ax cx risk aversion formulation explicit model trade risk return objective maximize expect return penalize variance portfolio determine risk aversion coe cient small objective function slightly penalize lead riskier portfolio opposite happens big value maximize subject ax cx since positive de nite possible solve problem lagrange mul tiplier method number constraint maximum value degree freedom order solve linear equation first order condition focs quadratic program class nonlinear optimization problem deal problem minimize quadratic function like variance portfolio subject lin ear equality inequality constraint expect return maximization formulation lead quadratic program since convex quadratic constraint since positive semide nite two model state convex problem mean local solution global solution well objective function convex function encounter happens optimal portfolio asset intro duced important consideration nd optimal portfolio construction trans action cost transaction cost impact strategy consider utility function since investor sensitive cost try avoid cost explicit like fee commisions bid ask spread tax implicit cost delay cost price movement risk market impact cost timing risk opportunity cost pogue aware implication include another term accounting trans action cost risk aversion formulation since mvo framework optimization myopic practice consid erations like rebalancing rebalancing need since real strategy dynamic optimal weight change give new realize return rebalancing normally do calendar set frequency threshold set deviation threshold optimal weight range set asset allocation target mix tolerance desire allocation another important concept introduce track error divergence portfolio benchmark help nd sample portfolio relative benchmark give point future optimal portfolio calculate new information embed price cause weight portfolio deviate previously compute optimum take consideration rebalancing step since one choose trade incur high cost accurate trackability benchmark lax track few rebal ances few cost minimum variance optimization accord risk minimization problem equation formulate lagrangian follow way vector size lled one minimize subject constraint maximization target expect return weight add one since bx take partial derivative variable equal zero get either maximum minimum due fact symmetric matrix proceed take partial derivative lagrangian equation respect variable wesolvefor inequation plug represent constant convenient way factorize solution solve system equation nd ac ac substitute factorize much possible express optimal weight target return met ac global minimum variance optimal weight determine weight portfolio minimum variance similarly risk minimization formulation express equation lagrange multiplier constraint sum weight equal one hold well build follow lagrangian partial derivative need take get focs solve equation plug equation compute lagrange multiplier whensubstitutedin variance portfolio wgmv maximum sharpe optimal weight tobin wonder would investor hold cash instead interest bearing gov ernment debt scientist like jack treynor william sharpe john lintner follow sharpe could achieve want point along capital market line cml plot risk return represent axis respectively line characterize intercept risk free rate slope additional expect return per unit risk cml improve cient frontier risk free asset consider cml nd portfolio optimal minimum variance cient frontier level risk portfolio like portfolio along cml combination risk free asset risky portfolio call tangent portfolio owe fact line start rate tangent cient frontier fama follow market model markowitz show market portfolio equivalent tangent portfolio sharpe lintner expect return model certain assumption motivate treynor index jack treynor sharpe introduce measure mutual fund performance try nd much excess return generate give measure risk sharpe use standard deviation instead capm denotes weight risky security sharpe ratio express matrix vector consider risk free asset sharperatio problem nd optimal portfolio maximizes ratio follow maximize subject although polyhedral feasible surface objective function complicate possibly concave lead non convex optimization problem assumption thatw risk minimization form want minimize variance portfolio condition expect portfolio excess return equal target portfolio excess return consideration risk free asset minimize subject let construct lagrangian proceed similarly partial derivative equal zero also assume risk free zero variance uncorrelated asset solve lead substitute eq give lambda plug equation nd assume solve substitute eq nally arrive optimal weight wsharpe cient frontier rst time window analyze september january gmv maximum sharpe observe mention introduction mvo face challenge make question ectiveness like method best grauer show portfolio composition extremely sensitive change expect asset return hand uncertainty calculation expect return practice prude rely estimation treat error free give investor could use shrinkage bayesian estimator ben tal nemirovski introduce robust estimation framework apply convex optimization problem data speci ed exactly know belongs give uncertainty set constraint must hold possible value uncertainty set focus uncertainty constraint oppose literature deal uncertainty objective function simple approach portfolio need simplistic approach use also want consider three simple portfolio equally weight portfolio inverse volatility inverse variance portfolio de ne follow portfolio weight calculation equally weight portfolio wew matricial form follow wew vector size inverse volatility wiv pn pn pn letdiagonaldiag andtracetr hence tr diag allows formulate matrix vector diag iv tr diag inverse variance wivar pn similar inverse volatilty exception square obtain ivar diag tr diag hierarchical risk parity opez de prado proposes another way calculate weight appliance graph theory machine learn stage tree cluster previous empirical variance matrix compute correlation matrix andthediagonal matrix lled one meaning take calculate distance matrix diagonal element distance column compute compute another distance de ned euclidean distance column matrix distance could include like manhattan maximum mahalanobis purpose thesis use euclidean distance ux denote distance column asset matrix respectively order cluster column asset similar risk pro le need choose linkage criterion distance newly form cluster element exists complete linkage unweighted average linkage weight average linkage consider implement single linkage cluster argmin distance column matrix cluster cluster appends near point drop column row append asset set do recursively asset cluster th iteration dendogram rst time window analyze september january denotes hierarchical structure asset show di erent color two cluster found cc stage quasi diagonalization matrix seriation procedure help arrange data show cluster similar investment place together large sincethesmaller variance diagonal completely zero hence name quasi diagonalization stage recursive bisection finally bisection perform top cluster identi ed cluster tree cluster get weight spect inverse variance show eq opez de prado prof optimal solution variance minimization covariance matrix diagonal diagonal element equivalent zero random matrix theory eigenvalue clip empirical determination correlation matrix result complicate task set di erent asset represent time series length expect noisy somehow reminiscent random variable use correlation matrix practice one wonder dominate measurement risk small eigenvalue matrix responsive noise happen one determine least risky portfolio hence notion correlation matrix carry real information need take account nd way reduce noise correlation matrix one able discern random noise information laloux formulate method ables density function eigenvalue random matrix already study marchenko pastur found theoretical asymptotic eigenvalue dis tribution matrix give nt max min max min laloux propose method eigenvalue clip eigenvalue high value theoretical distribution eq deem carry valuable information eigenvalue marchenko pastur edge discard heatmap left right eigenvalue clip rmt method rst time window analyze september january method purpose construct compare portfolio use unconstrained min imum variance unconstrained maximum sharpe order nd optimal value impose constraint would lead sub optimal portfolio although short sell might complicate practice want restrict optimization since maximum sharpe ratio portfolio depends forecast expect return ana lyzed day time window negative expect return allocation do optimization method use zero since simpli problem time low level interest rate developed economy however code model consideration inclusion risk free asset set quadratic program problem give assumption port folio weight add one unconstrained portfolio could assign weight would give place leverage exposure avoid compare portfolio leverage limit scale back weight portfolio divide weight sum weight absolute value follow way wul pnjw jwj markowitz model use compute solution derive la grange multiplier although quadratic program version gmv maximum sharpe also provide besides another optimization algorithm apply hrp three aforementioned portfolio also compute variant clean covariance eigenvalue clip model consider perfect market assumption law one price hold consider one price per day bid ask spread furthermore matter simpli cation use mention cost inclined calendar rebalancing day nd suitable although practice could costly rebalance position portfolio weekly frequency transaction cost account real application code available http github com morishig automate cryptocurrency portfolio git data data consists daily price cryptocurrencies large market cap italization coingecko august th daily price corresponds period september th june nd data sub sample every day considers roll window day historic past data asset universe consists ada cardano atom cosmos bch bitcoin cash bnb binance coin bsv bitcoin sv btc bitcoin cro crypto com chain eos eos eth ethereum leo leo token link chainlink ltc litecoin neo neo trx tron usdc usd coin usdt tether xlm stellar xmr mon ero xrp ripple xtz tezos additionally time series portfolio create cryptocurrencies price data compare cryptocurrency index crix developed ardle trimborn see information data distribution follow rst notice data provide data di erent method choose cc high capitalization ex post portfolio start date bring bias call survivorship bias essence mean cryptocurrencies top market capitalization portfolio start january day rst data point time series top today case sample upwardly bias case cc complicate practice nd historic data select constituent completely new asset class strike extremely high level excess kurtosis charac terized fact period analyze boom bust cycle cc data begin bitcoin building way high time value around december andthencrashing buttheminimum maximum value tell irrational movement volatility risky asset class see methodology min median mean max volatility variance skewness kurtosis bnb link cro trx xlm bsv eos ada btc crix leo xrp eth ltc atom usdt usdc xtz neo xmr bch descriptive statistic logarithmic return period september june see formula detail moreover see follow plot cryptocurrency perform study period consider case portfolio fully invest pro loss top perform cc initial investment period january june con rming fact bias induced selection process cryptocur rencies price day portfolio start make top cc fact cc price information portfolio start date make top perform cc see fig pro loss bottom perform cc initial investment period january june could use crix proxy market appreciate fig calmer period reign year price crashed violently moment portfolio begin characterize bear signal relatively still high price level result pro loss optimization strategy naive strategy bench mark initial investment period january june rmt stand random matrix theory implies eigenvalue clip covariance matrix mv denotes minimum variance maximum sharpe respectively rst thing notice none portfolio realize positive return second crix hand crix outperform simple naive portfolio naive portfolio perform quite poorly none naive could beat benchmark opposite optimize appreciate inverse variance portfolio hrp strategy almost go tandem begin year due hrp portfolio relies inverse variance portfolio within di erent hierarchy identi ed cluster gmv portfolio anomaly good year capitalize gain market stabilize strategy plateaued believe risk measure var cvar appropriate com putations assume normality data see high moment skewness excess kurtosis normal however still give good idea distribution return give portfolio incorporate monthly portfolio interest since portfolio cvar var median mean vola skw kur sh mv mv rmt hrp rmt hrp rmt mv rmt mv rmt rmt hrp hrp crix inv var inv vol descriptive statistic risk measure logarithmic return portfolio number indicates portfolio consider monthly rebalancing normal distribution con dence interval assume see formula positivee deviate much matter return weekly counterpart however maximum sharpe nalportfoliovaluev deterioratedfromthe daysrebalancing however weneed take account weekly rebalanced portfolio incurs high transaction cost practice conclusion seem like best option period would store investment mattress hard believe forecasting expect return variance allow arrive optimal portfolio analysis part data price maybe incorporate variable would give insight information transmission mechanism cc market variable need consider order extract information embed price future work would consider model like factor model widely use practice need incorporate information nd driver price imperative since could correlate variable problem lie nding trust worthy data relationship risk reward although portfolio optimization seem good alternative since opti mized portfolio realize low volatility benchmark however optimize portfolio high moment extreme mvo seem fail capture market psychology detect market cycle dynamic extend model incorporate transaction cost would sensitive thing since liquidity constraint asset class way show reject superiority choice monthly rebalancing period nd consistency literature trimborn barber odean evidencefrom retail discount brokerage account journal public economics ben tal nemirovski robust convex optimization mathematics operation research best grauer analytics sensitivity analysis mean variance portfolio problem international review financial analysis bikker spierdijk van der sluis market impact cost institutional equity trade journal international money finance bollerslev generalize autoregressive conditional heteroskedasticity jour nal econometrics breitung bru ggemann lu tkepohl structural vector autore gressive model impulse response cornuejols tu tu ncu optimization method finance cambridge davy kat lu fund hedge fund portfolio selection multiple objective approach journal derivative hedge fund domowitz beardsley liquidity liquidity commonality impact portfolio theory ssrn electronic journal engle autoregressive conditional heteroscedasticity estimate variance united kingdom ation econometrica fabozzi focardi bali mathematical method nance tool asset risk management frank fabozzi series hoboken new jersey fabozzi focardi kolm financial model equity market capm cointegration wiley nance hoboken wiley au ed fama behavior stock market price journal business cient capital market review theory empirical work journal finance franke ha rdle hafner statistic financial mar kets introduction springer international publishing chap financial econometrics cryptocurrencies giecold ouaknin pyrmt http github com ggiecold pyrmt ha rdle simar apply multivariate statistical analysis springer international publishing chap application finance jobson korkie put markowitz theory work journal portfolio management kent filbeck portfolio theory management edit kent baker greg filbeck new york oxford oxford press laloux cizeau potter bouchaud random matrix theory financial correlation international journal theoretical ap ply finance ledoit wolf honey shrunk sample covariance matrix journal portfolio management litterman winkelmann estimate covariance matrix lo pez de prado building diversi ed portfolio outperform sample journal portfolio management mandelbrot variation certain speculative price journal business chicago ill markowitz portfolio selection journal nance new york pogue extension markowitz portfolio selection model include variable transaction cost short sale leverage policy tax journal finance sharpe capital asset price theory market equilibrium condition risk journal nance new york mutual fund performance journal business chicago ill tobin thereviewofeconomic study trimborn ha rdle crix evaluate blockchain base curren cies trimborn mingyang ha rdle invest cryptocurrencies liquidity constrain investment approach crix methodology accord data disclose thecrix de trimborn ardle index built follow motivate index lapeyres de ned pkp index laspeyres pkp price crypto time therefore point price amount trimborn ardle denote crix pkmv aw crix divisor wherek mv time cw aw mvi cw capped weight whenever crypto weight pk mvi pk mvi crix divisor start value constituent ected change price adjust necessary pkmv pkmv crix crix divisor divisor descriptive statistic rst four moment distribution logarithmic return vector asset compute follow mean arithmetic mean perform pn variance unbiased empirical variance skewness fisher pearson coe cient skewness pn skewness pn kurtosis standardize sample excess kurtosis pn kurtosis pn portfolio risk measure formula value risk var conditional value risk cvar also know expect shortfall assume normal distribution could good measure give empirical realize skewness kurtosis purpose thesis alpha con dence interval value risk var var logarithmic return distribution cumulative distribution func tion cdf equivalent con dence interval var computes quantile cdf conditional value risk cvar also know expect shortfall cvar var denote var cvar con dence interval intuitively cvar computes average tail value contain part cdf declaration authorship hereby con rm author master thesis independently without use others indicate source passage literally general matter take publication source marked september guillermo masayuki morishige takane